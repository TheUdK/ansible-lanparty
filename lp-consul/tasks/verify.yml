---
- name: Verify | Check Consul Secret
  assert:
    that:
      - consul_secret is defined
    msg: Enter a valid 'consul_secret' generated by 'consul keygen'

- name: Verify | Advertise Interface
  assert:
    that:
      - hostvars[inventory_hostname]['ansible_' + consul_interface]['ipv4']['address'] is defined
    msg: "consul_interface '{{ consul_interface }}' defined but not found on host."
  when: consul_interface is defined
